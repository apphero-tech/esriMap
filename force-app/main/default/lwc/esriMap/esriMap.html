<template>
    <div class="slds-card">
        <div class="slds-card__header slds-grid">
            <div class="slds-media slds-media_center slds-has-flexi-truncate">
                <div class="slds-media__body">
                    <h2 class="slds-card__header-title">
                        <span>Carte ArcGIS Interactive</span>
                    </h2>
                </div>
            </div>
        </div>
        <div class="slds-card__body slds-card__body_inner">
            <!-- Conteneur de la carte -->
            <div class="map-container" lwc:dom="manual"></div>
            

            <!-- Bouton Save Shape -->
            <div class="slds-m-top_medium slds-text-align_center">
                <lightning-button 
                    variant="brand" 
                    label={saveButtonLabel}
                    title="Sauvegarder la forme actuellement sélectionnée sur la carte"
                    disabled={isSaveButtonDisabled}
                    onclick={handleSaveShape}
                    class="save-shape-button">
                    <template if:true={isSaving}>
                        <lightning-spinner 
                            alternative-text="Sauvegarde en cours..." 
                            size="small">
                        </lightning-spinner>
                    </template>
                </lightning-button>
            </div>
        </div>
    </div>
</template>